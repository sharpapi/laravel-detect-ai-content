![SharpAPI GitHub cover](https://sharpapi.com/sharpapi-github-laravel-bg.jpg "SharpAPI Laravel Client")

# AI-Generated Content Detection for Laravel

## Leverage AI API to detect AI-generated text content.

[![Latest Version on Packagist](https://img.shields.io/packagist/v/sharpapi/laravel-detect-ai-content.svg?style=flat-square)](https://packagist.org/packages/sharpapi/laravel-detect-ai-content)
[![Total Downloads](https://img.shields.io/packagist/dt/sharpapi/laravel-detect-ai-content.svg?style=flat-square)](https://packagist.org/packages/sharpapi/laravel-detect-ai-content)

Check the details at SharpAPI's [AI Content Detector API](https://sharpapi.com/en/catalog/ai/content-marketing-automation/ai-content-detector) page.

---

## Requirements

- PHP >= 8.1
- Laravel >= 10.48.29

---

## Installation

Follow these steps to install and set up the SharpAPI Laravel AI Content Detection package.

1. Install the package via `composer`:

```bash
composer require sharpapi/laravel-detect-ai-content
```

2. Register at [SharpAPI.com](https://sharpapi.com/) to obtain your API key.

3. Set the API key in your `.env` file:

```bash
SHARP_API_KEY=your_api_key_here
```

4. **[OPTIONAL]** Publish the configuration file:

```bash
php artisan vendor:publish --tag=sharpapi-detect-ai-content
```

---
## Key Features

- **AI Content Detection**: Identify text that may have been generated by AI models like ChatGPT, Claude, or other LLMs.
- **Likelihood Score**: Returns a 0-100 percentage score indicating how likely the text is AI-generated.
- **Detailed Assessment**: Provides a one-sentence overall statement about the text.
- **Reasoning Explanation**: Includes 2-3 sentences explaining the observable cues that support the conclusion.
- **Flagged Parts**: Highlights specific excerpts from the input text with detected AI patterns.
- **Pattern Detection**: Identifies AI-associated vocabulary, excessive transitional phrases, and stylistic markers.
- **Robust Polling for Results**: Polling-based API response handling with customizable intervals.
- **API Availability and Quota Check**: Check API availability and current usage quotas with SharpAPI's endpoints.

---

## Usage

You can inject the `DetectAiContentService` class to access AI content detection functionality. For best results, especially with batch processing, use Laravel's queuing system to optimize job dispatch and result polling.

### Basic Workflow

1. **Dispatch Job**: Send text content to the API using `detectAi`, which returns a status URL.
2. **Poll for Results**: Use `fetchResults($statusUrl)` to poll until the job completes or fails.
3. **Process Result**: After completion, retrieve the results from the `SharpApiJob` object returned.

> **Note**: Each job typically takes a few seconds to complete. Once completed successfully, the status will update to `success`, and you can process the results as JSON, array, or object format.

---

### Controller Example

Here is an example of how to use `DetectAiContentService` within a Laravel controller:

```php
<?php

namespace App\Http\Controllers;

use GuzzleHttp\Exception\GuzzleException;
use SharpAPI\ContentDetectAi\DetectAiContentService;

class ContentController extends Controller
{
    protected DetectAiContentService $aiDetectionService;

    public function __construct(DetectAiContentService $aiDetectionService)
    {
        $this->aiDetectionService = $aiDetectionService;
    }

    /**
     * @throws GuzzleException
     */
    public function detectAiContent(string $text)
    {
        $statusUrl = $this->aiDetectionService->detectAi($text);

        $result = $this->aiDetectionService->fetchResults($statusUrl);

        return response()->json($result->getResultJson());
    }
}
```

### Handling Guzzle Exceptions

All requests are managed by Guzzle, so it's helpful to be familiar with [Guzzle Exceptions](https://docs.guzzlephp.org/en/stable/quickstart.html#exceptions).

Example:

```php
use GuzzleHttp\Exception\ClientException;

try {
    $statusUrl = $this->aiDetectionService->detectAi('In conclusion, this comprehensive analysis delves into the multifaceted aspects of modern technology.');
} catch (ClientException $e) {
    echo $e->getMessage();
}
```

---

## Optional Configuration

You can customize the configuration by setting the following environment variables in your `.env` file:

```bash
SHARP_API_KEY=your_api_key_here
SHARP_API_JOB_STATUS_POLLING_WAIT=180
SHARP_API_JOB_STATUS_USE_POLLING_INTERVAL=true
SHARP_API_JOB_STATUS_POLLING_INTERVAL=10
SHARP_API_BASE_URL=https://sharpapi.com/api/v1
```

---

## AI Content Detection Data Format Example

```json
{
  "data": {
    "id": "example-uuid",
    "type": "api_job_result",
    "attributes": {
      "type": "content_detect_ai",
      "status": "success",
      "result": {
        "ai_likelihood_percent": 85,
        "assessment": "This text shows strong indicators of AI generation.",
        "reasoning": "The text uses several AI-associated vocabulary words (comprehensive, delves, multifaceted, crucial, leverage, innovative, foster, streamline) and employs excessive transitional phrases (In conclusion, Furthermore). The formal register and promotional tone are also characteristic of LLM output.",
        "flagged_parts": [
          {
            "text": "comprehensive analysis delves into the multifaceted aspects",
            "reason": "AI-associated vocabulary cluster"
          },
          {
            "text": "Furthermore, it is crucial to leverage",
            "reason": "Excessive transitional phrase with AI vocabulary"
          }
        ]
      }
    }
  }
}
```

---

## Support & Feedback

For issues or suggestions, please:

- [Open an issue on GitHub](https://github.com/sharpapi/laravel-detect-ai-content/issues)
- Join our [Telegram community](https://t.me/sharpapi_community)

---

## Changelog

Please see [CHANGELOG](CHANGELOG.md) for a detailed list of changes.

---

## Credits

- [A2Z WEB LTD](https://github.com/a2zwebltd)
- [Dawid Makowski](https://github.com/makowskid)
- Enhance your [Laravel AI](https://sharpapi.com/) capabilities!

---

## License

The MIT License (MIT). Please see [License File](LICENSE.md) for more information.

---

## Follow Us

Stay updated with news, tutorials, and case studies:

- [SharpAPI on X (Twitter)](https://x.com/SharpAPI)
- [SharpAPI on YouTube](https://www.youtube.com/@SharpAPI)
- [SharpAPI on Vimeo](https://vimeo.com/SharpAPI)
- [SharpAPI on LinkedIn](https://www.linkedin.com/products/a2z-web-ltd-sharpapicom-automate-with-aipowered-api/)
- [SharpAPI on Facebook](https://www.facebook.com/profile.php?id=61554115896974)
